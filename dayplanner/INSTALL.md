# 安装指南

## 系统要求

- Windows 10 或更高版本
- 至少 100MB 可用磁盘空间
- 网络连接（仅用于企业微信提醒功能，可选）

## 安装步骤

### 方式一：使用发布包（推荐）

1. 下载最新版本的发布包 `daily-report-vX.X.X-windows.zip`
2. 解压到任意目录（建议：`C:\Program Files\DailyReportTool\`）
3. 双击 `daily-report.exe` 启动应用程序

### 方式二：从源码构建

#### 前置要求

- Go 1.21 或更高版本
- GCC 编译器（推荐 TDM-GCC）
- Git（可选）

#### 构建步骤

```bash
# 1. 克隆或下载源码
git clone <repository-url>
cd daily-report-tool

# 2. 安装依赖
go mod download

# 3. 构建可执行文件
.\build.bat

# 或使用 Fyne 打包工具
.\package.bat
```

## 首次运行

1. **启动应用**
   - 双击 `daily-report.exe`
   - 应用会自动创建必要的目录和配置文件

2. **目录结构**
   ```
   daily-report-tool/
   ├── daily-report.exe      # 主程序
   ├── config/
   │   └── config.json       # 配置文件（自动创建）
   ├── data/
   │   └── tasks/            # 任务数据目录（自动创建）
   └── logs/
       └── app.log           # 日志文件（自动创建）
   ```

3. **开始使用**
   - 在日历中点击日期
   - 在编辑器中输入任务内容
   - 内容会自动保存

## 配置企业微信提醒（可选）

### 获取 Webhook 地址

1. 登录企业微信管理后台
2. 进入"应用管理" -> "群机器人"
3. 创建新的群机器人
4. 复制 Webhook 地址（格式：`https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxxxx`）

### 配置应用

1. 在应用中点击菜单栏的"设置"
2. 填入 Webhook 地址
3. 设置提醒时间（默认 10:00）
4. 启用"开启提醒"开关
5. 点击"保存"

### 测试提醒

- 提醒会在每天指定时间检查
- 如果当天没有任务记录，会发送提醒消息
- 每天只发送一次提醒

## 数据管理

### 数据位置

- **任务数据**: `data/tasks/YYYY-MM-DD.json`
- **配置文件**: `config/config.json`
- **日志文件**: `logs/app.log`

### 备份数据

建议定期备份以下目录：
```bash
# 备份任务数据
复制 data/tasks/ 目录

# 备份配置
复制 config/config.json 文件
```

### 恢复数据

1. 将备份的 JSON 文件复制到 `data/tasks/` 目录
2. 重启应用程序
3. 数据会自动加载

### 迁移到新电脑

1. 复制整个应用目录到新电脑
2. 或只复制 `data/` 和 `config/` 目录
3. 在新电脑上运行应用程序

## 卸载

1. 关闭应用程序
2. 删除应用程序目录
3. 无需清理注册表（应用不写入注册表）

## 常见问题

### 应用无法启动

**问题**: 双击 exe 文件没有反应

**解决方案**:
- 检查是否被杀毒软件拦截
- 右键 -> 属性 -> 解除锁定
- 以管理员身份运行
- 查看 `logs/app.log` 了解错误信息

### 提醒功能不工作

**问题**: 没有收到企业微信提醒

**解决方案**:
- 确认 Webhook 地址正确
- 确认"开启提醒"开关已启用
- 检查网络连接
- 查看日志文件中的错误信息
- 测试 Webhook 地址是否有效

### 数据丢失

**问题**: 之前的任务记录不见了

**解决方案**:
- 检查 `data/tasks/` 目录是否存在
- 确认 JSON 文件是否完整
- 从备份恢复数据
- 检查日志文件了解是否有读取错误

### 界面显示异常

**问题**: 界面布局混乱或显示不正常

**解决方案**:
- 调整窗口大小
- 重启应用程序
- 检查系统 DPI 设置
- 更新显卡驱动

## 更新应用

1. 下载新版本的发布包
2. 关闭当前运行的应用
3. 备份 `data/` 和 `config/` 目录
4. 用新版本的 `daily-report.exe` 替换旧版本
5. 启动应用程序

## 技术支持

如遇到问题：
1. 查看 `logs/app.log` 日志文件
2. 查看 README.md 文档
3. 提交 Issue 到项目仓库

## 隐私说明

- 所有数据存储在本地，不上传到云端
- 企业微信提醒仅在配置后启用
- 应用不收集任何个人信息
- 任务内容完全由用户控制

## 许可证

本软件采用 MIT 许可证，可自由使用和修改。
