# 发布检查清单

在发布新版本之前，请确保完成以下所有检查项。

## 版本准备

- [ ] 更新 `VERSION` 文件中的版本号
- [ ] 更新 `CHANGELOG.md` 添加新版本的更新内容
- [ ] 更新 `README.md` 中的版本徽章
- [ ] 确认所有代码已提交到版本控制系统

## 代码质量检查

- [ ] 运行所有单元测试
  ```bash
  go test ./...
  ```
- [ ] 检查代码格式
  ```bash
  go fmt ./...
  ```
- [ ] 运行代码检查工具
  ```bash
  go vet ./...
  ```
- [ ] 确认没有编译警告或错误

## 功能测试

### 基础功能
- [ ] 应用程序能正常启动
- [ ] 日历视图正常显示
- [ ] 可以选择日期
- [ ] 可以编辑任务内容
- [ ] Markdown 预览正常工作
- [ ] 自动保存功能正常
- [ ] 任务数据正确保存到文件

### 提醒功能
- [ ] 可以打开设置界面
- [ ] 可以配置 Webhook URL
- [ ] 可以设置提醒时间
- [ ] 可以开启/关闭提醒
- [ ] 配置能正确保存
- [ ] 提醒服务能正常启动（如果启用）

### 错误处理
- [ ] 无效的 Webhook URL 会显示错误提示
- [ ] 文件读写错误有适当的错误处理
- [ ] 网络错误不会导致程序崩溃
- [ ] 日志文件正确记录错误信息

### 首次运行
- [ ] 删除 `config/` 和 `data/` 目录
- [ ] 启动应用程序
- [ ] 确认自动创建必要的目录
- [ ] 确认自动创建默认配置文件
- [ ] 确认应用程序正常工作

## 构建测试

### 开发构建
- [ ] 运行 `.\build.bat` 成功
- [ ] 生成的 `daily-report.exe` 可以正常运行
- [ ] 应用程序没有显示控制台窗口

### 打包构建
- [ ] 运行 `.\package.bat` 成功（可选）
- [ ] 检查打包后的应用程序

### 发布包构建
- [ ] 运行 `.\release.bat` 成功
- [ ] 检查 `release/` 目录结构
- [ ] 确认包含以下文件：
  - [ ] `daily-report.exe`
  - [ ] `README.md`
  - [ ] `快速开始.txt`
  - [ ] `config/config.json.example`
  - [ ] `data/tasks/` 目录
  - [ ] `icon.png`（如果存在）
- [ ] 确认生成了 ZIP 压缩包

## 发布包测试

- [ ] 解压发布包到新目录
- [ ] 双击 `daily-report.exe` 启动
- [ ] 测试所有基础功能
- [ ] 测试首次运行初始化
- [ ] 阅读 `快速开始.txt` 确认内容准确
- [ ] 阅读 `README.md` 确认内容准确

## 文档检查

- [ ] `README.md` 内容完整且准确
- [ ] `INSTALL.md` 安装说明清晰
- [ ] `CHANGELOG.md` 更新日志完整
- [ ] `快速开始.txt` 内容简洁明了
- [ ] 所有文档中的链接有效
- [ ] 所有代码示例正确

## 性能检查

- [ ] 应用程序启动时间合理（< 3秒）
- [ ] 日历切换响应迅速
- [ ] 编辑器输入流畅
- [ ] 预览更新及时
- [ ] 内存使用合理（< 100MB）
- [ ] CPU 使用正常（空闲时 < 5%）

## 兼容性测试

- [ ] Windows 10 测试通过
- [ ] Windows 11 测试通过（如果可能）
- [ ] 不同屏幕分辨率下显示正常
- [ ] 不同 DPI 设置下显示正常

## 安全检查

- [ ] 配置文件不包含敏感信息
- [ ] 示例配置文件使用占位符
- [ ] 日志文件不记录敏感数据
- [ ] 没有硬编码的密钥或密码

## 发布准备

- [ ] 创建 Git 标签
  ```bash
  git tag -a v1.0.0 -m "Release version 1.0.0"
  git push origin v1.0.0
  ```
- [ ] 准备发布说明（Release Notes）
- [ ] 上传发布包到发布平台
- [ ] 更新项目主页（如果有）
- [ ] 通知用户新版本发布

## 发布后验证

- [ ] 下载发布的压缩包
- [ ] 在干净的环境中测试
- [ ] 确认下载链接有效
- [ ] 确认版本号正确
- [ ] 监控用户反馈
- [ ] 准备快速修复流程（如果需要）

## 回滚计划

如果发现严重问题：
- [ ] 准备回滚到上一个稳定版本的步骤
- [ ] 保留上一个版本的发布包
- [ ] 准备问题修复计划

## 备注

- 测试日期: ___________
- 测试人员: ___________
- 发布日期: ___________
- 发布版本: ___________
- 特殊说明: ___________

---

**重要提示**: 
- 所有检查项必须完成才能发布
- 如果发现问题，必须修复后重新测试
- 保持发布包的质量是最重要的
